{"version":3,"sources":["scripts.js"],"names":["time","section3Idx","section4Idx","$","document","ready","navControl","burger","classList","contains","nav","remove","addClass","add","removeClass","detectswipe","el","func","swipe_det","sX","sY","eX","eY","min_x","max_x","min_y","max_y","ele","getElementById","addEventListener","e","t","touches","screenX","screenY","preventDefault","direc","window","innerWidth","on","event","originalEvent","source","get","contentWindow","data","pageLoader","index","find","setTimeout","length","click","initializeSection","sectionNumber","idx","siblings","map","ix","css","opacity","transform","section2ImageIdx","section2ImageControler","setInterval","handlePaninationButtonClick","parseInt","target","attr","sectionId","closest","es","location","includes","onepage_scroll","sectionContainer","easing","animationTime","pagination","updateURL","beforeMove","afterMove","loop","keyboard","responsiveFallback","direction","moveTo","currentSection","hasClass","section","height","offset","top","moveDown","hideLoadingAnimation","readyState","play","timeout","pause","clearTimeout","innerHeight","matchMedia","matches","pageIdx","body","style","position","stopPropagation","swipeController","d","section4PaginationLength","section3PaginationLength"],"mappings":"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","file":"scripts.js","sourcesContent":["// INITIALISE GLOBAL VARIABLES. \\\\ JS BY damianCrow\n\nconst time = 750;\nlet section3Idx = 0;\nlet section4Idx = 0;\n\n$(document).ready(() => {\n\n// WAIT FOR gfyCatEmbed VIDEO TO START PLAYING ON MOBILE, THEN HIDE THE LOADING ANIMATION. \\\\\n\n\tif(window.innerWidth < 800) {\n\t\t$(window).on(\"message\", (event) => {\n\t\t  if(event.originalEvent.source === $(\"#gfyCatEmbedIframe\").get(0).contentWindow) {\n\t\t    if(event.originalEvent.data === 'playing') {\n\t\t    \t$('#loading').addClass('hidden');\n\t\t    }\n\t\t  }\n\t\t});\n\t}\n\n// INITIALISE AND SETUP CURRENT PAGE. EXECUTE TRANSITIONS AND REMOVE TINT IF RELEVANT \\\\\n\n\tconst\tpageLoader = (index) => {\n\t\tif(index === 5) {\n\t\t\t$('.tint').removeClass('removeTint');\n\t\t\t$('.backgroundWrapper').removeClass('scaleBackground');\n\t\t\t$('#section5').find('.heading').addClass('show fadeIn');\n\t\t\t$('.subSection').addClass('scaleBackground');\n\t\t\t$('.subSection').find('.tint').addClass('removeTint');\n\t\t\t$('#section5').find('.textWrapper').addClass('show');\n\t\t\tsetTimeout(() => {\n\t\t\t\t$('.subSection > .textWrapper').find('.heading').addClass('fadeIn');\n\t\t\t}, 1000);\n\t\t} \n\t\telse {\n\t\t\t$('.tint').removeClass('removeTint');\n\t\t\t$('.subSection').removeClass('scaleBackground');\n\t\t\t$(`.backgroundWrapper:not(#section${index}Background)`).removeClass('scaleBackground');\n\t\t\t$(`#section${index}`).find(`.backgroundWrapper`).addClass('scaleBackground');\n\t\t\t$(`#section${index}`).find('.tint').addClass('removeTint');\n\n\t\t\tif($(`.section${index}PaginatorButton`).length && $(`.section${index}PaginatorButton.active`).length < 1) {\n\t\t\t\t$(`.section${index}PaginatorButton`).get(0).click();\n\t\t\t}\n\t\t}\n\t};\n\n// HIDE ALL BECKGROUNDS IN THE SECTION EXCEPT THE SPECIFIED INDEX, WHICH IS SCALED AND SHOWN. \\\\\n\n\tconst initializeSection = (sectionNumber, idx) => {\n\t\t$(`#section${sectionNumber}Background${idx}`).siblings('.backgroundWrapper').map((ix, ele) => {\n\t\t\t$(ele).css({opacity: 0});\n\t\t});\n\n\t\t$(`#section${sectionNumber}Background${idx}`).css({\n\t\t\t'transform': 'scale(1.1)',\n\t\t\t'opacity': 1\n\t\t});\n\t};\n\n// INITIATE initializeSection ON SECTIONS 3 AND 4. \\\\\n\n\tinitializeSection(3, 0);\n\tinitializeSection(4, 0);\n\n// SECTIONS 2 (ABOUT US SECTION) BACKGROUND IMAGE TRANSITION HANDLER. \\\\\n\n\tlet section2ImageIdx = 0;\n\n\tconst section2ImageControler = () => {\n\n\t\t$(`#section2`).find('.tint').removeClass('removeTint');\n\t\t$(`#section2Background${section2ImageIdx}`).removeClass('scaleBackground');\n\t\tinitializeSection(2, section2ImageIdx);\n\t\t\n\t\tsetTimeout(() => {\n\t\t\t$(`#section2`).find(`.backgroundWrapper`).addClass('scaleBackground');\n\t\t\t$(`#section2`).find('.tint').addClass('removeTint');\n\t\t}, 500);\n\n\t\tif(section2ImageIdx === 2) {\n\t\t\tsection2ImageIdx = 0;\n\t\t} else {\n\t\t\tsection2ImageIdx++;\n\t\t}\n\t};\n\n\tsection2ImageControler();\n\n\tsetInterval(() => {\n\t\tsection2ImageControler();\n\t}, 15000);\n\n// PAGINATION BUTTONS CLICK HANDLER FOR SECTIONS 3 AND 4. \\\\\n\n\tconst handlePaninationButtonClick = (e) => {\n\n\t\tconst idx = parseInt($(e.target).attr('data-index'));\n\t\tconst sectionId = $(e.target).closest('section').attr('id');\n\t\tlet relevantDataArray;\n\n\t\tif(sectionId === 'section3') {\n\t\t\tsection3Idx = idx;\n\t\t}\n\n\t\tif(sectionId === 'section4') {\n\t\t\tsection4Idx = idx;\n\t\t}\n\n\t\t$(`#${sectionId}`).find('.tint').removeClass('removeTint');\n\t\t$(`#${sectionId}`).find('.textWrapper').removeClass('show');\n\t\t$(`#${sectionId}`).find(`#textWrapper${idx}`).addClass('show');\n\t\t$(`#${sectionId}Background${idx}`).removeClass('scaleBackground');\n\t\t$(`.${sectionId}PaginatorButton`).removeClass('active');\n\t\t$(e.target).addClass('active');\n\n\t\tinitializeSection(parseInt($(`#${sectionId}`).attr('data-index')), idx);\n\n\t\tsetTimeout(() => {\n\t\t\tpageLoader(parseInt($(`#${sectionId}`).attr('data-index')));\n\t\t}, 500);\n\n\t\tif(sectionId !== 'section2'){\n\t\t\t$(`#${sectionId}`).find('.heading, p').addClass('fadeIn');\n\t\t\t$(`#${sectionId}`).on('transitionend webkitTransitionEnd oTransitionEnd', (es) => {\n\t    \t$(`#${sectionId}`).find('.heading, p').removeClass('fadeIn');\n\t\t\t});\n\t\t}\n\t};\n\n// CLICK LISTENER FOR PAGINATION BUTTONS ON SECTIONS 3 AND 4. \\\\\n\n\t$('.section3PaginatorButton, .section4PaginatorButton').click((e) => {\n\t\thandlePaninationButtonClick(e);\n\t});\n\n// INITIALIZE ONEPAGESCROLL IF NOT IN CMS PREVIEW. \\\\\n\n\tif(!$(location).attr('href').includes('index.php')) {\n\t\t$('#scrollerWrapper').onepage_scroll({\n\t\t\tsectionContainer: \"section\",    \n\t\t\teasing: \"ease-out\",                 \n\t\t\tanimationTime: time,            \n\t\t\tpagination: true,               \n\t\t\tupdateURL: true,               \n\t\t\tbeforeMove: (index) => {}, \n\t\t\tafterMove: (index) => {\n// INITIALIZE THE CURRENT PAGE. \\\\\n\n\t\t\t\tpageLoader(index);\n\t\t\t},  \n\t\t\tloop: false,                    \n\t\t\tkeyboard: true,                 \n\t\t\tresponsiveFallback: false,                                    \n\t\t\tdirection: \"vertical\"          \n\t\t});\n\n\t\t$('#scrollerWrapper').moveTo(1);\n\t}\n\n// CONTROL CLICKS ON WORK WITH US SECTION (SECTION5). \\\\\n\n\t$('.clickable').click((e) => {\n\t\tlet currentSection = $(e.target).closest($('.subSection'));\n\n\t\tif(currentSection.hasClass('open')) {\n\t\t\tcurrentSection.removeClass('open');\n\t\t\tcurrentSection.find('.button, p').removeClass('fadeIn');\n\t\t\tcurrentSection.siblings('.subSection').map((idx, section) => {\n\t\t\t\t$(section).removeClass('closed');\n\t\t\t\t$(section).find('.tint').removeClass('addTint').addClass('removeTint');\n\t\t\t});\n\t\t} else {\n\t\t\tcurrentSection.removeClass('closed').addClass('open');\n\t\t\tcurrentSection.on('transitionend webkitTransitionEnd oTransitionEnd', (es) => {\n\t    \t$('.subSection.open').find('.button, p').addClass('fadeIn');\n\t\t\t});\n\t\t\tcurrentSection.siblings('.subSection').map((idx, section) => {\n\t\t\t\t$(section).removeClass('open').addClass('closed');\n\t\t\t\t$(section).find('.tint').removeClass('removeTint').addClass('addTint');\n\t\t\t\t$(section).find('.button, p').removeClass('fadeIn');\n\t\t\t});\n\t\t}\n\t\tcurrentSection.find('.tint').removeClass('addTint').addClass('removeTint');\n\t});\n\n// CONTROL FOOTER ARROW CLICKS. \\\\\n\n\t$('#downArrow').click(() => {\n\t\tif($(window).height() * ($('.page').length - 1) === - $('#scrollerWrapper').offset().top) {\n\t  \t$('#scrollerWrapper').moveTo(1);\n\t\t} else {\n\t\t\t$('#scrollerWrapper').moveDown();\n\t\t}\n\t});\n\n// HIDE THE LOADING ANIMATIOPN WHEN VIDEO IS READY TO PLAY ON DEXKTOP. \\\\\n\n\tconst hideLoadingAnimation = () => {\n\t\tif(window.innerWidth > 800 && !$('#loading').hasClass('hidden')) {\n\n\t\t\tif($('#video').get(0).readyState === 4) {\n\t\t\t\t$('#loading').addClass('hidden');\n\t\t\t}\n\t\t}\n\t}\n\n// IF NOT IN CMS ADMIN PREVIEW, PERPETUALLY CHECK IF WE ARE AT THE TOP OF THE PAGE AND IF SO, DONT SHOW THE FOOTER OR GREEN SHAPE. \\\\\n\n\tif(!$(location).attr('href').includes('index.php')) {\n\t\tsetInterval(() => {\n\t\t\tif($('#scrollerWrapper').offset().top >= 0) {\n\t\t\t\t$('#headerShape, #footer').addClass('moveOffScreen');\n\t\t\t\t$('#video').get(0).play();\n\t\t\t\t$('.arrow').addClass('pulsate');\n\t\t\t} else {\n\t\t\t\tvar timeout = setTimeout(() => {\n\t\t\t\t\t$('#headerShape, #footer').removeClass('moveOffScreen');\n\t\t\t\t\t$('#video').get(0).pause();\n\t\t\t\t\t$('.arrow').removeClass('pulsate');\n\t\t\t\t\tclearTimeout(timeout);\n\t\t\t\t}, time);\n\t\t\t}\n\n// ROTATE THE ARROW IN THE FOOTER WHEN AT THE BOTTOM OF THE PAGE \\\\\n\n\t\t\tif($('#scrollerWrapper').offset().top < - (window.innerHeight * 4)) {\n\t\t\t\t$('#downArrow').css({'transform': 'rotate(180deg) translateX(-50%)'});\n\t\t\t} else {\n\t\t\t\t$('#downArrow').css({'transform': 'translateX(-50%) rotate(0deg)'});\n\t\t\t}\n\n\t\t\thideLoadingAnimation();\n\n// ADD LANDSCAPE STYLES TO RELEVANT ELEMENTS \\\\\n\n\t\t\tif(window.matchMedia(\"(orientation: landscape)\").matches && window.innerWidth < 800) {\n\t\t\t  $('.nav_link, #headerShape, #footer, .custom, .marker, #section5, .textWrapper').addClass('landscape');\n\t\t\t} else {\n\t\t\t\t $('.nav_link, #headerShape, #footer, .custom, .marker, #section5, .textWrapper').removeClass('landscape');\n\t\t\t}\n\t\t}, 250);\n\t}\n\n// CONTROL WHAT HAPPENS WHEN LINKS IN THE NAV/MENU ARE CLICKED \\\\\n\n\t$('.nav_link').click((e) => {\n\t\tconst pageIdx = parseInt($(e.target).attr('data-index'));\n\t\t$('#scrollerWrapper').moveTo(pageIdx);\n\t\t$('#menuBlockOut').addClass('hidden');\n\n\t\tif(burger.classList.contains('burger--active')) {\n      nav.classList.remove('nav_open');\n      burger.classList.remove('burger--active');\n      document.body.style.position = 'relative';\n    } \n\t});\n\n// WHEN THE NAVE IS OPEN PREVENT USER FROM BEING ABLE TO CLICK ANYTHING ELSE \\\\\n\n\t$('#menuBlockOut').click((e) => {\n\t   e.stopPropagation();\n\t});\n\n\tvar burger = document.getElementById('main-burger'), \n  nav = document.getElementById('mainNav');\n\n// CONTROL FOR OPEN AND CLOSING THE MENU/NAV  \\\\\n\n  function navControl() {\n\n    if(burger.classList.contains('burger--active')) {\n      nav.classList.remove('nav_open');\n      burger.classList.remove('burger--active');\n      $('#menuBlockOut').addClass('hidden');\n    } \n    else {\n      burger.classList.add('burger--active');\n      nav.classList.add('nav_open');\n      $('#menuBlockOut').removeClass('hidden');\n    }\n  }\n  \n// ONLY LISTEN FOR MENU CLICKS WHEN NOT IN CMS PREVIEW MODE \\\\\n\n  if(!$(location).attr('href').includes('index.php')) {\n  \tburger.addEventListener('click', navControl);\n  }\n\n// CLOSE THE NAV IF THE WINDOW IS OVER 1000PX WIDE \\\\\n\n  window.addEventListener('resize', function() {\n    if(window.innerWidth > 1000 && nav.classList.contains('nav_open')) {\n      navControl();\n      nav.classList.remove('nav_open');\n       $('#menuBlockOut').addClass('hidden');\n    }\n  });\n\n// THIS SET OF IF STATEMENTS INITIALISES THE SPESIFIC PAGES FOR PREVIEWING IN CMS ADMIN. \\\\\n\n  if($(location).attr('href').includes('index.php')) {\n\t\tif($(location).attr('href').includes('imagine-if')) {\n\t\t\tpageLoader(4);\n\t\t}\n\t\tif($(location).attr('href').includes('how-we-innovate')) {\n\t\t\tpageLoader(3);\n\t\t}\n\t\tif($(location).attr('href').includes('work-with-us')) {\n\t\t\tpageLoader(5);\n\t\t}\n\t\tif($(location).attr('href').includes('contact-us')) {\n\t\t\tpageLoader(6);\n\t\t}\n\t\tif($(location).attr('href').includes('home-video')) {\n\t\t\tsetInterval(() => {\n\t\t\t\thideLoadingAnimation();\n\t\t\t}, 500)\n\t\t}\n\t}\n\n// SWIPE EVENTS DETECTOR FUNCTION \\\\\n\n  function detectswipe(el, func) {\n\t  let swipe_det = {};\n\t  swipe_det.sX = 0; swipe_det.sY = 0; swipe_det.eX = 0; swipe_det.eY = 0;\n\t  var min_x = 30;  //min x swipe for horizontal swipe\n\t  var max_x = 30;  //max x difference for vertical swipe\n\t  var min_y = 50;  //min y swipe for vertical swipe\n\t  var max_y = 60;  //max y difference for horizontal swipe\n\t  var direc = \"\";\n\t  let ele = document.getElementById(el);\n\t  ele.addEventListener('touchstart',function(e){\n\t    var t = e.touches[0];\n\t    swipe_det.sX = t.screenX; \n\t    swipe_det.sY = t.screenY;\n\t  },false);\n\t  ele.addEventListener('touchmove',function(e){\n\t    e.preventDefault();\n\t    var t = e.touches[0];\n\t    swipe_det.eX = t.screenX; \n\t    swipe_det.eY = t.screenY;    \n\t  },false);\n\t  ele.addEventListener('touchend',function(e){\n\t    //horizontal detection\n\t    if ((((swipe_det.eX - min_x > swipe_det.sX) || (swipe_det.eX + min_x < swipe_det.sX)) && ((swipe_det.eY < swipe_det.sY + max_y) && (swipe_det.sY > swipe_det.eY - max_y) && (swipe_det.eX > 0)))) {\n\t      if(swipe_det.eX > swipe_det.sX) direc = \"r\";\n\t      else direc = \"l\";\n\t    }\n\t    //vertical detection\n\t    else if ((((swipe_det.eY - min_y > swipe_det.sY) || (swipe_det.eY + min_y < swipe_det.sY)) && ((swipe_det.eX < swipe_det.sX + max_x) && (swipe_det.sX > swipe_det.eX - max_x) && (swipe_det.eY > 0)))) {\n\t      if(swipe_det.eY > swipe_det.sY) direc = \"d\";\n\t      else direc = \"u\";\n\t    }\n\n\t    if (direc != \"\") {\n\t      if(typeof func == 'function') func(el,direc);\n\t    }\n\t    let direc = \"\";\n\t    swipe_det.sX = 0; swipe_det.sY = 0; swipe_det.eX = 0; swipe_det.eY = 0;\n\t  },false);  \n\t}\n\n// CHOSE THE NEXT SLIDE TO SHOW AND CLICK THE PAGINATION BUTTON THAT RELATES TO IT. \\\\\n\n\tconst swipeController = (el, d) => {\n\n\t\tif(el === 'section4') {\n\n\t\t\tconst section4PaginationLength = $('.section4PaginatorButton').length;\n\n\t\t\tif(d === 'l') {\n\n\t\t\t\tif(section4Idx < section4PaginationLength - 1) {\n\t\t\t\t\tsection4Idx++;\n\t\t\t\t} else {\n\t\t\t\t\tsection4Idx = 0;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t$('.section4PaginatorButton')[section4Idx].click();\n\t\t\t}\n\t\t\tif(d === 'r') {\n\n\t\t\t\tif(section4Idx > 0) {\n\t\t\t\t\tsection4Idx--;\n\t\t\t\t} else {\n\t\t\t\t\tsection4Idx = section4PaginationLength - 1;\n\t\t\t\t}\n\n\t\t\t\t$('.section4PaginatorButton')[section4Idx].click();\n\t\t\t}\n\t\t}\n\t\tif(el === 'section3') {\n\n\t\t\tconst section3PaginationLength = $('.section3PaginatorButton').length;\n\n\t\t\tif(d === 'l') {\n\n\t\t\t\tif(section3Idx < section3PaginationLength - 1) {\n\t\t\t\t\tsection3Idx++;\n\t\t\t\t} else {\n\t\t\t\t\tsection3Idx = 0;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t$('.section3PaginatorButton')[section3Idx].click();\n\t\t\t}\n\t\t\tif(d === 'r') {\n\n\t\t\t\tif(section3Idx > 0) {\n\t\t\t\t\tsection3Idx--;\n\t\t\t\t} else {\n\t\t\t\t\tsection3Idx = section3PaginationLength - 1;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t$('.section3PaginatorButton')[section3Idx].click();\n\t\t\t}\n\t\t}\n\t}\n\n// INITIATE FOR SWIPE DETECTION ON SECTIONS 3 AND 4 EXCEPT IN ADMIN PREVIEW. \\\\\n\n\tif(!$(location).attr('href').includes('index.php')) {\n\t\tdetectswipe('section4', swipeController);\n\t\tdetectswipe('section3', swipeController);\n\t}\n});"]}